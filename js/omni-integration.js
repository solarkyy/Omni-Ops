// OMNI-OPS INTEGRATION LAYER
(function(){const INT={init:function(){console.log('[Integration] Connecting modules...');this.setupCommander();this.showReady()},setupCommander:function(){const h=e=>{if(e.code!=='KeyM')return false;if(window.UE5?.active||window.PB?.active)return true;if(typeof window.toggleCommanderMode==='function')return false;if(window.gameState){window.gameState.isCommanderMode=!window.gameState.isCommanderMode;if(window.gameState.isCommanderMode){document.exitPointerLock();if(typeof addLogMessage==='function')addLogMessage('Commander Mode ON')}else{if(window.isGameActive&&!window.gameState.isInDialogue){if(typeof safeRequestPointerLock==='function')safeRequestPointerLock()}if(typeof addLogMessage==='function')addLogMessage('Commander Mode OFF')}}return true};if(window.OmniKeybinds&&window.OmniKeybinds.register){window.OmniKeybinds.register({id:'integration-commander',priority:10,onKeyDown:h})}else{document.addEventListener('keydown',h)}},showReady:function(){setTimeout(()=>{console.log('');console.log('%c╔══════════════════════════════════╗','color:#0f6');console.log('%c║  ALL SYSTEMS READY              ║','color:#0f6');console.log('%c╚══════════════════════════════════╝','color:#0f6');console.log('Modules:');console.log('  ✓ Core Game');console.log('  ✓ UE5 Editor (F2)');console.log('  ✓ Pip-Boy (TAB)');console.log('  ✓ Living NPCs (N)');console.log('  ✓ Commander (M)');console.log('')},500)}};window.INT=INT;if(document.readyState==='loading')document.addEventListener('DOMContentLoaded',()=>INT.init());else INT.init()})();